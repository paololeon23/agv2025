/* Importar una fuente moderna (similar a la usada en el ejemplo) */
@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap');

:root {
    /* Colores Actualizados */
    --color-primary-blue: #0E1B40; /* Azul Oscuro (Fondo Sidebar) */
    --color-active-green: #7de2ff; /* Verde m치s suave para el elemento ACTIVO */
    --color-submenu-bg: #1F3668; /* Azul m치s oscuro para diferenciar el submen칰 */
    
    --color-text-white: #FFFFFF;
    --color-text-dark: #0E1B40; /* A침adida para el texto activo sobre fondo claro */
    --color-search-bg: #ffffff; /* Fondo de b칰squeda m치s claro */
    --color-page-bg: #FFFFFF;
    
    /* COLORES DE LA TOP BAR */
    --color-home-text: #0E1B40; 
    --color-topbar-border: #0E1B40; 
    --color-user-icon: #0E1B40; 
    
    --header-height: 70px; 
    --sidebar-width: 230px;
    --active-item-margin: 10px; /* Margen para crear espacio en los lados del men칰 */
}

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    font-family: 'Roboto', sans-serif;
}

body {
    background-color: var(--color-page-bg);
}

/* --- BARRA SUPERIOR DEL LOGO --- */

.top-header-logo-area {
    width: var(--sidebar-width);
    height: var(--header-height);
    background-color: var(--color-page-bg); 
    position: fixed;
    top: 0;
    left: 0;
    z-index: 1020; 
    display: flex;
    align-items: center;
    justify-content: center; 
}

/* Estilo para la imagen del logo */
.app-logo {
    max-height: 116%; 
    max-width: 90%;
    object-fit: contain;
}

/* --- Sidebar sin scroll ni direction --- */
.sidebar {
    width: var(--sidebar-width);
    background-color: var(--color-primary-blue);
    color: var(--color-text-white);
    padding: 0;

    position: fixed;
    height: calc(100vh - var(--header-height));
    top: var(--header-height);
    z-index: 1010;

    border-radius: 0 40px 0 0 !important;
    display: flex;
    flex-direction: column;
    overflow: hidden; /* Importante */
}

/* --- SOLO el men칰 debe tener scroll a la izquierda --- */
.nav-menu {
    flex: 1;
    overflow-y: auto;
    overflow-x: hidden;

    /* mover scroll a la izquierda */
    direction: rtl;
    scrollbar-color: var(#fff) var(#fff);
}

/* Mantener texto hacia la izquierda NORMAL */
.nav-menu * {
    direction: ltr;
}

/* Scroll est칠tico (solo WebKit) */
.nav-menu::-webkit-scrollbar {
    width: 6px;
}
.nav-menu::-webkit-scrollbar-track {
    background: var(#fff);
}
.nav-menu::-webkit-scrollbar-thumb {
    background: var(#fff);
    border-radius: 10px;
}



.top-logo-spacer {
    height: 15px; 
}

/* Caja de B칰squeda */
.search-box {
    /* Mantenemos el margen del men칰 activo para que la caja parezca flotar */
    padding: 15px var(--active-item-margin) 25px var(--active-item-margin); 
    position: relative;
}

.search-box input {
    width: 100%;
    padding: 10px 10px 10px 40px;
    border: none;
    /* Borde redondeado de la caja de b칰squeda */
    border-radius: 20px; 
    background-color: var(--color-search-bg);
    color: #333;
    font-size: 1rem;
}



.search-icon {
    position: absolute;
    /* Ajustamos la posici칩n basado en el padding lateral */
    left: calc(15px + var(--active-item-margin) / 2); 
    top: 25px;
    color: #666;
    font-size: 1rem; 
}

/* Men칰 de Navegaci칩n */
.nav-menu {
    flex-grow: 1;
    /* Padding lateral para que los 칤tems del men칰 no est칠n pegados a los bordes */
    padding: 0 var(--active-item-margin); 
}

.menu-item {
    display: flex;
    align-items: center;
    padding: 12px 15px;
    text-decoration: none;
    color: var(--color-text-white);
    font-size:14px; 
    font-weight: 500;
    margin: 5px 0; 
}

.menu-item:hover {
    background-color: rgba(255, 255, 255, 0.1);
    /* Borde redondeado al hacer hover */
    border-radius: 20px; 
}

.icon-left {
    width: 20px;
    margin-right: 10px;
    font-size: 1rem;
}

/* Cuando el toggle NO est치 activado (clase sidebar-collapsed presente) */
body.sidebar-collapsed .icon-left {
    width: 20px;
    margin-right: 0px; /* Quitamos margen para que no se descentre en la burbuja */
    font-size: 1rem;
    padding-top: 7px;

}

.icon-right {
    margin-left: auto;
    font-size: 0.7rem;
    opacity: 0.7;
    transition: transform 0.3s;
}

/* Estilo del 칈tem Activo */
.menu-item.active {
    background-color: var(--color-active-green); 
    /* CORRECCI칍N: Texto oscuro sobre fondo verde, como en la imagen "Inicio" */
    color: var(--color-text-dark); 
    
    /* Bordes redondeados para el 칤tem activo */
    border-radius: 20px; 
    padding: 12px 15px;
}

.menu-item.active:hover {
    background-color: var(--color-active-green);
}

.menu-item.active .icon-left,
.menu-item.active .icon-right {
    /* 칈conos oscuros en el activo */
    color: var(--color-text-dark); 
}

/* --- Estilos del Submen칰 --- */

.submenu {
    max-height: 0;
    overflow: hidden;
    background-color: var(--color-submenu-bg); 
    
    /* Aplicar borde redondeado a la parte inferior del submen칰 */
    border-bottom-left-radius: 20px;
    border-bottom-right-radius: 20px;
    margin-bottom: 5px; 
}

.submenu.active-submenu {
    max-height: 500px; 
    /* El submen칰 ya no necesita romper el redondeo del padre, solo se alinea */
    border-top-left-radius: 0;
    border-top-right-radius: 0;
}

/* SOLUCI칍N 2: Ajustes del 칤tem padre cuando el submen칰 est치 activo */
.has-submenu.active {
    /* Fondo verde para el elemento padre desglosado */
    background-color: var(--color-active-green);
    color: var(--color-text-dark);
    
    /* El padre debe perder el redondeo inferior para unirse al submen칰 */
    border-bottom-left-radius: 0;
    border-bottom-right-radius: 0;
    margin-bottom: 0; /* Eliminar el margen entre el padre y el submen칰 */
}

/* El elemento padre desglosado debe tener iconos oscuros */
.has-submenu.active .icon-left,
.has-submenu.active .icon-right {
    color: var(--color-text-dark);
}

.has-submenu:not(.active):hover {
    /* Para que el hover funcione correctamente si el submen칰 est치 cerrado */
    border-radius: 20px;
}

.has-submenu.active .submenu-arrow {
    transform: rotate(180deg);
}

.submenu-item {
    display: flex;
    align-items: center;
    padding: 8px 15px 8px 30px; 
    text-decoration: none;
    /* 칈tems del submen칰 deben ser blancos sobre fondo azul oscuro */
    color: var(--color-text-white); 
    font-size: 0.9rem;
    font-weight: 400;
    transition: background-color 0.2s;
}

.submenu-item:hover {
    background-color: rgba(0, 0, 0, 0.2);
}

/* Aplica el redondeo solo al 칰ltimo submen칰-item (si existe) */
/* NOTA: Estos se eliminan porque el redondeo se aplica al contenedor .submenu */
/*
.submenu-item:last-child {
    border-bottom-left-radius: 20px;
    border-bottom-right-radius: 20px;
}
*/
.icon-left-sm {
    width: 20px;
    margin-right: 10px;
    font-size: 0.85rem;
}


/* --- Estilos del Contenido Principal y Top Bar --- */

.content-area {
    margin-left: var(--sidebar-width); 
    flex-grow: 1;
    padding: 0;
    background-color: var(--color-page-bg);
}

.top-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 30px;
    border-bottom: 2px solid var(--color-topbar-border); 
    background-color: var(--color-page-bg);
    position: sticky;
    top: 0;
    z-index: 50;
    height: var(--header-height); 
}

.page-title {
    font-size: 1.5rem;
    font-weight: 500;
    color: var(--color-home-text); 
}

.user-info {
    display: flex;
    align-items: center;
    gap: 15px;
    font-size: 0.9rem;
    color: #666;
}

.lang-switch {
    font-weight: 500; 
    color: #888; 
}

.user-icon {
    font-size: 2.2rem; 
    cursor: pointer;
    color: var(--color-user-icon); 
}

.dynamic-content {
    padding: 30px;
}

/* RESPONSIVEEEEEEEEEEEEEEEEEEEEEEE principal */

/* Contenedor principal */
.app-wrapper {
    width: 100%;        /* ocupar todo el ancho disponible */
    height: 100%;       /* ocupar todo el alto disponible */
    min-width: 937px;   /* no se reduce m치s all치 de 937px */
    min-height: 594px;  /* no se reduce m치s all치 de 594px */
}

/* Scroll solo cuando sea necesario */
body {
    overflow: auto;
}


.jooleano-card {
    display: inline-block;
    margin-left: 10px;
    padding: 4px 8px;
    background-color: #f0f4ff;
    color: #1a237e;
    font-size: 12px;
    font-weight: 500;
    border-radius: 6px;
    box-shadow: 0 1px 4px rgba(0,0,0,0.1);
    text-align: center;
    min-width: 120px;
}


/* --- AJUSTE AL CONTENEDOR EXISTENTE --- */
.sidebar {
    /* Mantenemos tus estilos, pero aseguramos el position relative para el anclaje */
    position: fixed;
    display: flex;
    flex-direction: column;
    /* ... resto de tus estilos (height, top, etc) ... */
}

/* --- AJUSTE AL MEN칔 PARA QUE NO TAPE LA TARJETA --- */
.nav-menu {
    flex: 1;
    overflow-y: auto;
    overflow-x: hidden;
    direction: rtl;
    /* Dejamos espacio abajo para que el 칰ltimo 칤tem (Calidad) sea visible sobre la tarjeta */
    margin-bottom: 85px; 
}

/* Cuando el toggle NO est치 activado (clase sidebar-collapsed presente) */
body.sidebar-collapsed .nav-menu {
    flex: 1;
    overflow-y: auto;
    overflow-x: hidden;
    direction: rtl;
    /* Dejamos espacio abajo para que el 칰ltimo 칤tem (Calidad) sea visible sobre la tarjeta */
    padding-top: 33px;
}

/* --- ESTILO DE LA TARJETA FIJA (CARD) --- */
.user-card-fixed {
    position: absolute;
    bottom: 7px; /* Separaci칩n del fondo */
    left: 0;
    width: 100%;
    padding: 0 var(--active-item-margin); /* Usa tu variable de margen 10px */
    box-sizing: border-box;
    z-index: 1050; /* Por encima del nav-menu */
    direction: ltr; /* Reset de la direcci칩n RTL del men칰 */
}

.user-card-body {
    background-color: #164c7c; /* Color que solicitaste */
    border-radius: 15px;
    padding: 12px;
    display: flex;
    align-items: center;
    gap: 10px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.user-card-avatar {
    font-size: 28px;
    color: rgba(255, 255, 255, 0.9);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.user-card-info {
    display: flex;
    flex-direction: column;
    overflow: hidden; /* Evita que el correo largo rompa la caja */
}

.user-card-email {
    color: #FFFFFF;
    font-size: 10px; /* Tama침o reducido para el correo largo */
    font-weight: 700;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis; /* A침ade "..." si no cabe */
}

.user-card-role {
    color: rgba(255, 255, 255, 0.8);
    font-size: 9px;
    text-transform: uppercase;
    letter-spacing: 0.3px;
    margin-top: 2px;
}

/* --- Estilo del Bot칩n de Hamburguesa --- */
#toggle-sidebar {
    background: none;
    border: none;
    cursor: pointer;
    padding: 0;
    margin-right: 20px;
    display: flex;
    align-items: center;
}

#toggle-sidebar i {
    color: #0e1b40 !important;
    font-size: 22px;
}

/* ============================================================
   MODO "SOLO ICONOS" (SIN TRANSICIONES - CAMBIO SECO)
   ============================================================ */

/* Quitar animaciones para que no se vea el efecto de abrir/cerrar */
.sidebar, .content-area, .top-header-logo-area, .menu-item, .icon-left {
    transition: none !important;
}

/* Anchos fijos al colapsar */
body.sidebar-collapsed .sidebar,
body.sidebar-collapsed .top-header-logo-area {
    width: 75px !important;
}

body.sidebar-collapsed .content-area {
    margin-left: 75px !important;
}

/* Ocultar elementos */
body.sidebar-collapsed .menu-item span,
body.sidebar-collapsed .icon-right,
body.sidebar-collapsed .search-box, 
body.sidebar-collapsed .user-card-info,
body.sidebar-collapsed .submenu,
body.sidebar-collapsed .lang-switch,
body.sidebar-collapsed .top-logo-spacer,
body.sidebar-collapsed .top-header-logo-area span {
    display: none !important;
}

/* Burbujas de los iconos */
body.sidebar-collapsed .menu-item {
    display: flex !important;
    justify-content: center !important;
    align-items: center !important;
    margin: 10px auto !important;
    width: 45px !important;
    height: 45px !important;
    border-radius: 50% !important;
}

body.sidebar-collapsed .icon-left {
    margin: 0 !important;
    font-size: 1.3rem !important;
}

/* Icono Activo */
body.sidebar-collapsed .menu-item.active {
    background-color: #7de2ff !important;
    color: #0E1B40 !important;
}

/* Avatar Footer */
body.sidebar-collapsed .user-card-fixed {
    padding: 0 !important;
    bottom: 15px !important;
    display: flex !important;
    justify-content: center !important;
}

body.sidebar-collapsed .user-card-body {
    width: 45px !important;
    height: 45px !important;
    justify-content: center !important;
    border-radius: 12px !important;
    background-color: #164c7c !important;
}



.user-info {
    margin-left: auto; /* 游녣 empuja todo a la derecha */
}

